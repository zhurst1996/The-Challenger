/*! TheChallenger 2022-09-15 */
function copy(e){navigator.clipboard.writeText(e.value)}!function(){var e,t,a=localStorage.getItem("lastTest");function n(a){return new Promise(function(e,t){var n=new XMLHttpRequest;n.onload=function(){e(JSON.parse(this.responseText))},n.open("GET","/tests/test/"+a,!0),n.send()})}function o(){document.getElementById("test-select").addEventListener("change",function(){a=this.value,localStorage.setItem("lastTest",a),n(a).then(function(e){var t=a.replace(/\-/gim," ").capitalizeFirstLetter();document.getElementById("header").textContent=t,document.getElementById("root").innerHTML=e.html,document.getElementById("javascript-container").innerHTML=e.jsHTML,document.getElementById("javascript-copy-input").value=e.js,window[a.replace(/\-/gim,"_")].load(e)})}),document.getElementById("see-javascript").addEventListener("click",function(){"See JavaScript"==this.textContent?(document.getElementById("javascript-container").style="",document.getElementById("copy-javascript").style="",this.textContent="Hide JavaScript"):(document.getElementById("javascript-container").style="display: none;",document.getElementById("copy-javascript").style="display: none;",this.textContent="See JavaScript")}),document.getElementById("copy-javascript").addEventListener("click",function(){copy(document.getElementById("javascript-copy-input")),document.getElementById("copy-javascript").innerHTML='<i class="text-success gg-check"></i>',setTimeout(function(){document.getElementById("copy-javascript").innerHTML='<i class="gg-copy"></i>'},2e3)})}a||(localStorage.setItem("lastTest","intro"),a="intro"),e=function(e){window.author=e;var t=a.capitalizeEachFirstLetters("-");Promise.all([new Promise(function(e,t){var n=new XMLHttpRequest;n.onload=function(){JSON.parse(this.responseText).forEach(function(e){var t=document.createElement("option"),e=e.replace(/\.js/,""),n=e.capitalizeEachFirstLetters("-");t.textContent=n,t.value=e,t.classList="text-capitalize",t.selected=t.value==a,document.getElementById("test-select").appendChild(t)}),e()},n.open("GET","/tests/list",!0),n.send()}),n(a)]).then(function(e){e=e[1];document.getElementById("header").textContent=t,document.getElementById("root").innerHTML=e.html,document.getElementById("javascript-container").innerHTML=e.jsHTML,document.getElementById("javascript-copy-input").value=e.js,o(),window[a.replace(/\-/gim,"_")].load(e),document.getElementById("root").style=""})},(t=new XMLHttpRequest).onload=function(){e(JSON.parse(this.responseText))},t.open("GET","/public/assets/author-info.json",!0),t.send()}(),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.capitalizeEachFirstLetters=function(e){var t="";return this.split(e).forEach(function(e){t+=" "+e.capitalizeFirstLetter()}),t};var advanced_fizz_buzz={load:function(){this.bindings(),document.getElementsByClassName("delete-set")[0].style="display: none;"},bindings:function(){this.addBinding(),this.computeBinding(),this.clearBinding(),this.deleteSetBinding()},addBinding:function(){var e=this;document.getElementById("add-rule-set-button").addEventListener("click",function(){e.renderNewRuleSet.apply(e)})},computeBinding:function(){var e=this;document.getElementById("compute-button").addEventListener("click",function(){e.renderOutput.apply(e)})},clearBinding:function(){var a=this;document.getElementById("clear-ouput-button").addEventListener("click",function(){for(var e=document.getElementsByClassName("results-list"),t=e.length-1;0<=t;t--){var n=e[t];a.deleteNode(n)}})},deleteSetBinding:function(){for(var t=this,e=document.getElementsByClassName("delete-set"),n=0;n<=e.length-1;n++){var a=e[n];a.removeEventListener("click",function(){}),a.addEventListener("click",function(){var e=this.closest(".fizz-buzz-container");t.deleteNode(e)})}},deleteNode:function(e){e.remove()},calculateNums:function(){for(var e=document.getElementById("all-rule-sets-container").getElementsByClassName("fizz-buzz-container"),t=e.length-1,n=[],a=0;a<=t;a++){for(var o=e[a],i=o.getElementsByClassName("rule-set-count")[0].textContent,s=o.getElementsByClassName("count")[0].value,l=o.getElementsByClassName("rule-select")[0].value,r=parseInt(o.getElementsByClassName("fizz")[0].value),c=parseInt(o.getElementsByClassName("buzz")[0].value),u=1,d={elem:o,ruleSet:i,rule:l,first:r,second:c,count:s,results:[]};u<=s;){switch(l){case"and":var m=this.isDivisibleBy(u,r)&&this.isDivisibleBy(u,c);d.results.push({[u]:{result:m,text:!!m&&"FizzBuzz"}});break;case"or":var m=this.isDivisibleBy(u,r),g=this.isDivisibleBy(u,c),h=!1;m?h="Fizz":g&&(h="Buzz"),d.results.push({[u]:{result:m||g,text:h=m&&g?"Fizz or Buzz":h}})}u++}n.push(d)}return n},isDivisibleBy:function(e,t){return e%t==0},createOutputEntry:function(e){var t=document.getElementById("fizz-buzz-output-container").getElementsByClassName("output-list")[0],n=document.createElement("div"),a=document.createElement("h6"),o=document.createElement("ul");n.classList="results-list",a.classList="card-subtitle",a.textContent=e.rule.capitalizeFirstLetter()+" Rule Set "+e.ruleSet,!!e.results.filter(function(e,t){return!!e[t+1].result}).length?e.results.forEach(function(e,t){var n,e=e[t+1];e.result&&((n=document.createElement("li")).textContent=[t+1]+" "+e.text,o.appendChild(n))}):((e=document.createElement("li")).textContent="No Results",o.appendChild(e)),n.appendChild(a),n.appendChild(o),t.appendChild(n)},renderNewRuleSet:function(){var e=document.getElementById("all-rule-sets-container").getElementsByClassName("fizz-buzz-container")[0].cloneNode(!0),e=(document.getElementById("all-rule-sets-container").appendChild(e),document.getElementById("all-rule-sets-container").getElementsByClassName("fizz-buzz-container")),t=e.length,e=e[t-1];e.getElementsByClassName("rule-set-count")[0].textContent=t,e.getElementsByClassName("delete-set")[0].style="",this.deleteSetBinding()},renderOutput:function(){var t=this,e=t.calculateNums();console.log(e),e.forEach(function(e){t.createOutputEntry(e)})}},intro=(window.advanced_fizz_buzz=advanced_fizz_buzz,{load:function(e){this.renderIntro(),this.bindings()},bindings:function(){this.sortByBinding(),this.toggleTechSectionBinding()},toggleTechSectionBinding:function(){document.getElementsByClassName("toggle-tech-section")[0].addEventListener("click",function(){"Hide"==document.getElementsByClassName("toggle-tech-section")[0].textContent?(document.getElementsByClassName("toggle-tech-section")[0].textContent="See More",document.getElementById("techinical-info").style="display: none;"):(document.getElementsByClassName("toggle-tech-section")[0].textContent="Hide",document.getElementById("techinical-info").style="")})},sortByBinding:function(){var t=this;document.getElementById("techinical-info").getElementsByClassName("sort-by-technology")[0].addEventListener("change",function(){var e=structuredClone(t.data);document.getElementById("techinical-info").getElementsByClassName("technology-table")[0].getElementsByTagName("tbody")[0].innerHTML="",e.data=t.groupTechnologySet(e.data,e.numberOfColumns,[],parseInt(this.value)),t.createTechnologyDataEntries(e.data,e.numberOfColumns,e.numberOfRows)})},fetchTechnologies:function(){return new Promise(function(t,e){var n=new XMLHttpRequest;n.onload=function(){var e=JSON.parse(this.responseText);t(e)},n.open("GET","/data/technologies/list",!0),n.send()})},findDateRangeByYear:function(e,t){e=new Date(e),t=new Date(t),e=Math.abs(e-t);return Math.ceil(e/864e5)/365},getAuthorAge:function(){return{exactAge:this.findDateRangeByYear(new Date,window.author.dob),approxAge:Math.round(this.findDateRangeByYear(new Date,window.author.dob))}},getAuthorWorkTime:function(){return Math.round(this.findDateRangeByYear(new Date,window.author.startWorkDate))},groupTechnologySet:function(e,t,n,a){for(var o,i,s=[],l=0;l<t;l++){var r=e[0];s.push(r),e.splice(0,1)}return n.push(s),e.length?this.groupTechnologySet(e,t,n,a):(o=[],n.sort((i=a-1,function(e,t){return e[i].data.toLocaleLowerCase()===t[i].data.toLocaleLowerCase()?0:e[i].data.toLocaleLowerCase()<t[i].data.toLocaleLowerCase()?-1:1})),n.forEach(function(e){o=o.concat(e)}),o)},createTechnologyHeaders:function(e){e.forEach(function(e){var t=document.createElement("option"),n=(t.textContent=e.data,t.value=e.column,document.createElement("th"));n.textContent=e.data,n.scope="col",document.getElementById("techinical-info").getElementsByClassName("sort-by-technology")[0].appendChild(t),document.getElementById("techinical-info").getElementsByClassName("technology-table")[0].getElementsByTagName("thead")[0].getElementsByTagName("tr")[0].appendChild(n)})},createTechnologyDataEntries:function(e,t,n){for(var a=0;a<n;a++){for(var o=document.createElement("tr"),i=0;i<t;i++){var s=e[0],l=document.createElement("td");l.textContent=s.data,o.appendChild(l),e.splice(0,1)}document.getElementById("techinical-info").getElementsByClassName("technology-table")[0].getElementsByTagName("tbody")[0].appendChild(o)}},renderTechnology:function(e){this.createTechnologyHeaders(e.headers),this.createTechnologyDataEntries(e.data,e.numberOfColumns,e.numberOfRows)},renderIntro:function(){var n=this,e=(this.fetchTechnologies().then(function(e){var t=structuredClone(e),e=structuredClone(e);n.data=e,t.data=n.groupTechnologySet(t.data,t.numberOfColumns,[],1),n.renderTechnology(t)}),this.getAuthorAge()),t=this.getAuthorWorkTime(),a=document.getElementById("html-intro");a.getElementsByClassName("author-name")[0].textContent=window.author.first+" "+window.author.last,a.getElementsByClassName("exact-author-age")[0].textContent=e.exactAge,a.getElementsByClassName("approx-author-age")[0].textContent=e.approxAge,a.getElementsByClassName("author-work-time")[0].textContent=t,a.getElementsByClassName("author-title")[0].textContent=window.author.title,a.getElementsByClassName("author-primary-language")[0].textContent=window.author.primaryLanguage,a.getElementsByClassName("author-resume")[0].href=window.author.resume}});window.intro=intro;