/*! TheChallenger 2022-09-22 */
function copy(e){navigator.clipboard.writeText(e.value)}!function(){var e,t,a=localStorage.getItem("lastTest");function n(a){return new Promise(function(e,t){var n=new XMLHttpRequest;n.onload=function(){e(JSON.parse(this.responseText))},n.open("GET","/tests/test/"+a,!0),n.send()})}function o(){document.getElementById("test-select").addEventListener("change",function(){a=this.value,localStorage.setItem("lastTest",a),document.getElementById("root").style="display: none;",n(a).then(function(e){var t=a.replace(/\-/gim," ").capitalizeEachFirstLetters();document.getElementById("header").textContent=t,document.getElementById("root").innerHTML=e.html,document.getElementById("javascript-container").innerHTML=e.jsHTML,document.getElementById("javascript-copy-input").value=e.js,window[a.replace(/\-/gim,"_")].load(e),document.getElementById("root").style=""})}),document.getElementById("see-javascript").addEventListener("click",function(){"See JavaScript"==this.textContent?(document.getElementById("javascript-container").style="",document.getElementById("javascript-header").style="",document.getElementById("copy-javascript").style="",this.textContent="Hide JavaScript"):(document.getElementById("javascript-container").style="display: none;",document.getElementById("javascript-header").style="display: none;",document.getElementById("copy-javascript").style="display: none;",this.textContent="See JavaScript")}),document.getElementById("copy-javascript").addEventListener("click",function(){copy(document.getElementById("javascript-copy-input")),document.getElementById("copy-javascript").innerHTML='<i class="gg-check"></i>',setTimeout(function(){document.getElementById("copy-javascript").innerHTML='<i class="gg-copy"></i>'},2e3)})}a||(localStorage.setItem("lastTest","intro"),a="intro"),e=function(e){window.author=e;var t=a.capitalizeEachFirstLetters("-");Promise.all([new Promise(function(e,t){var n=new XMLHttpRequest;n.onload=function(){JSON.parse(this.responseText).forEach(function(e){var t=document.createElement("option"),e=e.replace(/\.js/,""),n=e.capitalizeEachFirstLetters("-");t.textContent=n,t.value=e,t.classList="text-capitalize",t.selected=t.value==a,document.getElementById("test-select").appendChild(t)}),e()},n.open("GET","/tests/list",!0),n.send()}),n(a)]).then(function(e){e=e[1];document.getElementById("header").textContent=t,document.getElementById("root").innerHTML=e.html,document.getElementById("javascript-container").innerHTML=e.jsHTML,document.getElementById("javascript-copy-input").value=e.js,o(),window[a.replace(/\-/gim,"_")].load(e),document.getElementById("root").style=""})},(t=new XMLHttpRequest).onload=function(){e(JSON.parse(this.responseText))},t.open("GET","/public/assets/author-info.json",!0),t.send()}(),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.capitalizeEachFirstLetters=function(e){var t="";return this.split(e||" ").forEach(function(e){t+=" "+e.capitalizeFirstLetter()}),t},Date.prototype.getDateTime=function(){return this.toLocaleString("en-US",{hour12:!0})};var advanced_fizz_buzz={load:function(){this.bindings(),document.getElementsByClassName("delete-set")[0].style="display: none;"},bindings:function(){this.addBinding(),this.computeBinding(),this.clearBinding(),this.deleteSetBinding()},addBinding:function(){var e=this;document.getElementById("add-rule-set-button").addEventListener("click",function(){e.renderNewRuleSet.apply(e)})},computeBinding:function(){var e=this;document.getElementById("compute-button").addEventListener("click",function(){e.renderOutput.apply(e)})},clearBinding:function(){var a=this;document.getElementById("clear-ouput-button").addEventListener("click",function(){for(var e=document.getElementsByClassName("results-list"),t=e.length-1;0<=t;t--){var n=e[t];a.deleteNode(n)}})},deleteSetBinding:function(){for(var t=this,e=document.getElementsByClassName("delete-set"),n=0;n<=e.length-1;n++){var a=e[n];a.removeEventListener("click",function(){}),a.addEventListener("click",function(){var e=this.closest(".fizz-buzz-container");t.deleteNode(e)})}},deleteNode:function(e){e.remove()},calculateNums:function(){for(var e=document.getElementById("all-rule-sets-container").getElementsByClassName("fizz-buzz-container"),t=e.length-1,n=[],a=0;a<=t;a++){for(var o=e[a],s=o.getElementsByClassName("rule-set-count")[0].textContent,i=o.getElementsByClassName("count")[0].value,r=o.getElementsByClassName("rule-select")[0].value,l=parseInt(o.getElementsByClassName("fizz")[0].value),c=parseInt(o.getElementsByClassName("buzz")[0].value),d=1,u={elem:o,ruleSet:s,rule:r,first:l,second:c,count:i,results:[]};d<=i;){switch(r){case"and":var m=this.isDivisibleBy(d,l)&&this.isDivisibleBy(d,c);u.results.push({[d]:{result:m,text:!!m&&"FizzBuzz"}});break;case"or":var m=this.isDivisibleBy(d,l),p=this.isDivisibleBy(d,c),g=!1;m?g="Fizz":p&&(g="Buzz"),u.results.push({[d]:{result:m||p,text:g=m&&p?"Fizz or Buzz":g}})}d++}n.push(u)}return n},isDivisibleBy:function(e,t){return e%t==0},createOutputEntry:function(e){var t=document.getElementById("fizz-buzz-output-container").getElementsByClassName("output-list")[0],n=document.createElement("div"),a=document.createElement("h6"),o=document.createElement("ul");n.classList="results-list",a.classList="card-subtitle",a.textContent=e.rule.capitalizeFirstLetter()+" Rule Set "+e.ruleSet,!!e.results.filter(function(e,t){return!!e[t+1].result}).length?e.results.forEach(function(e,t){var n,e=e[t+1];e.result&&((n=document.createElement("li")).textContent=[t+1]+" "+e.text,o.appendChild(n))}):((e=document.createElement("li")).textContent="No Results",o.appendChild(e)),n.appendChild(a),n.appendChild(o),t.appendChild(n)},renderNewRuleSet:function(){var e=document.getElementById("all-rule-sets-container").getElementsByClassName("fizz-buzz-container")[0].cloneNode(!0),e=(document.getElementById("all-rule-sets-container").appendChild(e),document.getElementById("all-rule-sets-container").getElementsByClassName("fizz-buzz-container")),t=e.length,e=e[t-1];e.getElementsByClassName("rule-set-count")[0].textContent=t,e.getElementsByClassName("delete-set")[0].style="",this.deleteSetBinding()},renderOutput:function(){var t=this,e=t.calculateNums();console.log(e),e.forEach(function(e){t.createOutputEntry(e)})}},intro=(window.advanced_fizz_buzz=advanced_fizz_buzz,{load:function(e){this.renderIntro(),this.bindings()},bindings:function(){this.sortByBinding(),this.toggleTechSectionBinding()},toggleTechSectionBinding:function(){document.getElementsByClassName("toggle-tech-section")[0].addEventListener("click",function(){"Hide"==document.getElementsByClassName("toggle-tech-section")[0].textContent?(document.getElementsByClassName("toggle-tech-section")[0].textContent="See More",document.getElementById("techinical-info").style="display: none;"):(document.getElementsByClassName("toggle-tech-section")[0].textContent="Hide",document.getElementById("techinical-info").style="")})},sortByBinding:function(){var t=this;document.getElementById("techinical-info").getElementsByClassName("sort-by-technology")[0].addEventListener("change",function(){var e=structuredClone(t.data);document.getElementById("techinical-info").getElementsByClassName("technology-table")[0].getElementsByTagName("tbody")[0].innerHTML="",e.data=t.groupTechnologySet(e.data,e.numberOfColumns,[],parseInt(this.value)),t.createTechnologyDataEntries(e.data,e.numberOfColumns,e.numberOfRows)})},fetchTechnologies:function(){return new Promise(function(t,e){var n=new XMLHttpRequest;n.onload=function(){var e=JSON.parse(this.responseText);t(e)},n.open("GET","/data/technologies/list",!0),n.send()})},findDateRangeByYear:function(e,t){e=new Date(e),t=new Date(t),e=Math.abs(e-t);return Math.ceil(e/864e5)/365},getAuthorAge:function(){return{exactAge:this.findDateRangeByYear(new Date,window.author.dob),approxAge:Math.round(this.findDateRangeByYear(new Date,window.author.dob))}},getAuthorWorkTime:function(){return Math.round(this.findDateRangeByYear(new Date,window.author.startWorkDate))},groupTechnologySet:function(e,t,n,a){for(var o,s,i=[],r=0;r<t;r++){var l=e[0];i.push(l),e.splice(0,1)}return n.push(i),e.length?this.groupTechnologySet(e,t,n,a):(o=[],n.sort((s=a-1,function(e,t){return e[s].data.toLocaleLowerCase()===t[s].data.toLocaleLowerCase()?0:e[s].data.toLocaleLowerCase()<t[s].data.toLocaleLowerCase()?-1:1})),n.forEach(function(e){o=o.concat(e)}),o)},createTechnologyHeaders:function(e){e.forEach(function(e){var t=document.createElement("option"),n=(t.textContent=e.data,t.value=e.column,document.createElement("th"));n.textContent=e.data,n.scope="col",document.getElementById("techinical-info").getElementsByClassName("sort-by-technology")[0].appendChild(t),document.getElementById("techinical-info").getElementsByClassName("technology-table")[0].getElementsByTagName("thead")[0].getElementsByTagName("tr")[0].appendChild(n)})},createTechnologyDataEntries:function(e,t,n){for(var a=0;a<n;a++){for(var o=document.createElement("tr"),s=0;s<t;s++){var i=e[0],r=document.createElement("td");r.textContent=i.data,o.appendChild(r),e.splice(0,1)}document.getElementById("techinical-info").getElementsByClassName("technology-table")[0].getElementsByTagName("tbody")[0].appendChild(o)}},renderTechnology:function(e){this.createTechnologyHeaders(e.headers),this.createTechnologyDataEntries(e.data,e.numberOfColumns,e.numberOfRows)},renderIntro:function(){var n=this,e=(this.fetchTechnologies().then(function(e){var t=structuredClone(e),e=structuredClone(e);n.data=e,t.data=n.groupTechnologySet(t.data,t.numberOfColumns,[],1),n.renderTechnology(t)}),this.getAuthorAge()),t=this.getAuthorWorkTime(),a=document.getElementById("html-intro");a.getElementsByClassName("author-name")[0].textContent=window.author.first+" "+window.author.last,a.getElementsByClassName("exact-author-age")[0].textContent=e.exactAge,a.getElementsByClassName("approx-author-age")[0].textContent=e.approxAge,a.getElementsByClassName("author-work-time")[0].textContent=t,a.getElementsByClassName("author-title")[0].textContent=window.author.title,a.getElementsByClassName("author-primary-language")[0].textContent=window.author.primaryLanguage,a.getElementsByClassName("author-resume")[0].href=window.author.resume}}),weather=(window.intro=intro,{load:function(){var t=this;this.getLocation(function(e){t.getWeather.apply(t,[e])})},getLocation:function(e){e&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(e):document.getElementById("html-weather").innerHTML="Geolocation is not supported by this browser.")},getWeather:function(t){var a=this,e=new XMLHttpRequest;e.onload=function(){var e=JSON.parse(this.responseText),n=(a.renderLocation(e,t),new Date(e.forecast.properties.updated).getDateTime()),e=(e.forecast.properties.periods.forEach(function(e,t){a.renderDayForecast(e,n,t)}),a.showOtherTemperatureBindings(),document.getElementById("html-weather").getElementsByClassName("day-forecast-container")[0].getElementsByClassName("carousel")[0]);e.getElementsByClassName("carousel-item")[0].classList+=" active",new bootstrap.Carousel(e,{interval:1e4});Promise.all(a.waitForVideosDataLoadBindings()).then(function(){document.getElementById("all-forecast-container").style=""})},e.open("GET","/weather/info/"+t.coords.latitude+"/"+t.coords.longitude,!0),e.send()},getWeatherBackgroundStyles:function(e){var t={src:"/public/videos/weather/",text:"text-light"};return/snow/gim.test(e)?t.src+="snow.mp4":/storm/gim.test(e)?t.src+="stormy.mp4":/sun/gim.test(e)?t.src+="sunny.mp4":/clear/gim.test(e)?t.src+="clear.mp4":!/cloud/gim.test(e)&&/(rain)|(shower)/gim.test(e)?t.src+="rainy.mp4":t.src+="cloudy.mp4",t},convertToFarenheit:function(e){return Math.round(9*e/5+32).toString()},convertToCelsius:function(e){return Math.round(5*(e-32)/9).toString()},showOtherTemperatureBindings:function(){for(var e=document.getElementsByClassName("show-other-temp"),t=0;e.length-1>=t;t++)e[t].addEventListener("click",function(){"Show Celcius"==this.textContent?(this.textContent="Show Farenheit",this.closest(".forecast-card").getElementsByClassName("cel-temp-text")[0].style="",this.closest(".forecast-card").getElementsByClassName("far-temp-text")[0].style="display: none;"):(this.textContent="Show Celcius",this.closest(".forecast-card").getElementsByClassName("cel-temp-text")[0].style="display: none;",this.closest(".forecast-card").getElementsByClassName("far-temp-text")[0].style="")})},waitForVideosDataLoadBindings:function(){for(var e=document.getElementsByTagName("video"),t=[],n=0;e.length-1>=n;n++){var a=e[n],o=(console.log("Video",a.getElementsByTagName("source")[0].src),new Promise(function(e,t){a.addEventListener("loadeddata",function(){console.log("Resolved",this.getElementsByTagName("source")[0].src),e()},!1)}));t.push(o)}return t},renderLocation:function(e,t){document.getElementById("html-weather").getElementsByClassName("coordinates")[0].getElementsByClassName("details")[0].innerHTML="Latitude: "+t.coords.latitude+"<br>Longitude: "+t.coords.longitude,document.getElementById("html-weather").getElementsByClassName("coordinates")[0].getElementsByClassName("approx-location")[0].innerHTML="Timezone: "+e.info.properties.timeZone+"<br>State: "+e.info.properties.relativeLocation.properties.state},renderDayForecast:function(e,t,n){var a=document.createElement("div"),o=document.createElement("video"),s=document.createElement("source"),i=document.createElement("div"),r=document.createElement("div"),l=document.createElement("img"),c=document.createElement("h5"),d=document.createElement("h6"),u=document.createElement("p"),m=document.createElement("span"),p=document.createElement("span"),g=document.createElement("p"),h=document.createElement("p"),y=document.createElement("blockquote"),E=document.createElement("footer"),f=document.createElement("a"),B=e.temperatureTrend?e.temperatureTrend.capitalizeFirstLetter():"No trend",C=e.temperatureUnit&&"f"==e.temperatureUnit.toLocaleLowerCase().trim()?e.temperature:this.convertToFarenheit(e.temperature),v=e.temperatureUnit&&"c"==e.temperatureUnit.toLocaleLowerCase().trim()?e.temperature:this.convertToCelsius(e.temperature),w=(o.autoplay=!0,o.loop=!0,o.muted=!0,o.controls=!1,s.type="video/mp4",this.getWeatherBackgroundStyles(e.shortForecast));s.src=w.src,a.classList="carousel-item",o.classList="background-video",i.classList="card forecast-card",r.classList="card-body text-light text-shadow",l.classList="rounded float-end mb-2",c.classList="card-title",d.classList="card-subtitle mb-4 text-muted",u.classList="card-text",m.classList="far-temp-text",p.classList="cel-temp-text",g.classList="card-text",h.classList="card-text pb-4 text-sm",y.classList="blockquote text-end",E.classList="blockquote-footer",f.classList="text-sm show-other-temp",y.style="font-size: 12px;",p.style="display: none;",f.href="#",l.src=e.icon,c.textContent=e.name+"'s Forecast",d.textContent=e.shortForecast,m.textContent="Temperature: "+C+"°F ("+B+")",p.textContent="Temperature: "+v+"°C ("+B+")",g.textContent="Wind: "+e.windSpeed+" ("+e.windDirection+")",h.textContent=e.detailedForecast,E.textContent="Last Updated: "+t,f.textContent="Show Celcius",r.appendChild(l),r.appendChild(c),r.appendChild(d),u.appendChild(m),u.appendChild(p),u.appendChild(f),r.appendChild(u),r.appendChild(g),r.appendChild(h),y.appendChild(E),r.appendChild(y),o.appendChild(s),i.appendChild(r),i.appendChild(o),a.appendChild(i),document.getElementById("html-weather").getElementsByClassName("day-forecast-container")[0].getElementsByClassName("carousel-inner")[0].appendChild(a)}});window.weather=weather;